@model Mod03_ChelasMovies.WebApp.Models.ViewModels.SearchViewModel
@using Mod03_ChelasMovies.WebApp.Models

@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>

@using (Html.BeginForm("Index", "Movies", FormMethod.Get))
{
    <fieldset>
        <legend>Movie Search</legend>

        <div class="editor-label">
            @Html.LabelFor(model => model.Title)
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Title)
        </div>

        <div class="editor-label">
            @Html.LabelFor(model => model.Year)
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Year)
        </div>

        <div class="editor-label">
            @Html.LabelFor(model => model.Genre)
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Genre)
        </div>

        <div class="editor-label">
            @Html.LabelFor(model => model.Director)
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.Director)
        </div>
        <p>
            <input name="SearchButton" type="submit" value="Search" />
        </p>
    </fieldset>
}

<p>@Html.ActionLink("Create New", "Create")</p>

@if (Model.SearchResults != null)
{
   <table>
    <tr>
        <th>&nbsp;</th>
        <th>&nbsp;</th>
        <th>&nbsp;</th>
        <th>@Html.SortingHeader("Title")</th>
        <th>@Html.SortingHeader("Year")</th>
        <th>@Html.SortingHeader("Genre")</th>
        <th>@Html.SortingHeader("Director")</th>
        <th>@Html.SortingHeader("Actors")</th>
        <th>Image</th>
        <th>Runtime</th>
    </tr>

@foreach (var item in Model.SearchResults)
{
    <tr>
        <td>@Html.ActionLink("Details", "Details", new { id = item.ID })</td>
        <td>@Html.ActionLink("Edit", "Edit", new { id = item.ID })</td>
        <td>@Html.ActionLink("Delete", "Delete", new { id = item.ID })</td>
        <td>@item.Title</td>
        <td>@item.Year</td>
        <td>@item.Genre</td>
        <td>@item.Director</td>
        <td>@item.Actors</td>
        <td>
            <div class="display-list-img">@Html.Image(Url.Content(item.Image))</div>
        </td>
        <td>@item.Runtime</td>
    </tr>
}

</table>
    <br />
    @Html.Partial("_Pager", Model.SearchResults)
}